<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Minnesota crop rotation map</title>
    <!-- <script src="js/leaflet-src.js"></script>
    <script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.bundled.js"></script> --->
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js"></script>
    <script type="module" src="js/cropRotateMapboxPlot.js" defer></script>
    <!-- <script src="js/plotly-2.12.1.min.js"></script> -->
    <!-- DON'T KNOW WHY, BUT THIS MUST BE A DOWNLOAD LINK TO THE LATEST VERSION (NOT THE LATEST VERSION BY NUMBER)
        OTHERWISE THE READ.CSV FUNCTIONALITY NEVER RUNS.
        Update - https://community.plotly.com/t/announcing-plotly-js-2-0/53675. This is pinned to version 1.58.4 of plotly, with breaking changes to 
        D3 import after that-->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/leaflet.css" />
  </head>

  <body>
    <div class="container">
      <div class="left">
        <div id="map"></div>
        <div id="on-map-load">Map is loading...</div>
        <pre id="features"></pre>
      </div>
      <div class="right">
        <div id="description">
          <p>
            This is an interactive map of crop rotations in the state of
            Minnesota from 2008-2021.
          </p>
          <p>
            The top six crops by average area covered during that time (all >
            100,000 acres): corn, soybeans, hay, spring wheat, sugar beets, and
            dry beans are plotted along with all other land covers.
          </p>
          <p id="click-start">
            Click on any chart icon in the map to draw an interactive version of
            it here.
          </p>
          <a href="https://nassgeodata.gmu.edu/CropScape/"
            >Data are from the National Agricultural Statistics Service</a
          >
        </div>
        <div id="plotly"></div>
      </div>
    </div>
  </body>
</html>
